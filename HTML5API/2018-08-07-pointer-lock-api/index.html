<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>HTML5 指针锁定API: Pointer Lock API # HTML5 API | 博客 @ Fierflame.com</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#08F">
	<link rel="stylesheet" href="/style/style.css">
	<link rel="stylesheet" href="/style/highlight/default.css">
	
	
	
	<script src="/script/highlight.pack.js"></script>
	<script src="/script/qrcode.min.js"></script>
	<script src="/script/script.js"></script>
	

</head>
<body>
	<header>
	<a href="/">
		<img id="site-logo" src="/favicon.svg" />
	</a>
	<ul id="qrcode-links">
		<li><a title="微信公众号: 猛火Fierflame(fierflame)" target="_blank" href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzU3NjMxNDgzMw==" class="wechat-logo"><img src="/images/qrcode/fierflame.svg"/></a></li>
		<li><a title="微博: 猛火Fierflame" target="_blank" href="https://weibo.com/fierflame" class="weibo-logo"></a></li>
		<li><a title="码云: fierflame" target="_blank" href="https://gitee.com/fierflame" class="gitee-logo"></a></li>
		<li><a title="github: fierflame" target="_blank" href="https://github.com/fierflame" class="github-logo"></a></li>
	</ul>
	<a href="/" id="site-name">
		猛火Fierflame
	</a>
	<!-- <nav id="nav">
		<ul>
			<li><a href="/">首页</a></li>
		<li><a href="/HTML5API">HTML5 API</a></li><li><a href="/devtools">开发工具</a></li><li><a href="/server">服务器</a></li>
		</ul>

		<ul><li><a target="_blank" href="http://tool.fierflame.com/">开发者工具</a></li></ul>
	</nav> -->
</header>

	<div>
	<main>
<div class="blog-info">
	<h1 class="blog-title">
		<!-- 
			[<a href="/HTML5API">HTML5 API</a>]
		 -->
		HTML5 指针锁定API: Pointer Lock API
	</h1>
</div>
<article class="blog-main style-context-box" need-article-nav>
	<h2 id="说明">说明</h2>
<p>指针锁定(以前叫做鼠标锁定) 是一种输入方法，这种方法是基于指针的相对位移（movement），而不仅是指针的绝对位置。此API将鼠标指针锁定到特定元素上（同时将指针光标从视图中移除），并获取原始的指针位移，这样就能不受元素边界的约束而无限移动，且不会移出元素。</p><h2 id="语法">语法</h2>
<p>Pointer lock API 提供两个新的方法、两个新的事件，并对对一个事件进行了扩展。</p><h3 id="requestpointerlock-方法">requestPointerLock 方法</h3>
<p><code>requestPointerLock</code>方法用来请求指针锁定，此方法扩展了 DOM 元素，具体语法如下：</p><pre><code class="ECMAScript">element.requestPointerLock();</code></pre>
<blockquote>
<p><em><strong>注意</strong></em> <code>requestPointerLock</code>方法可能需要添加浏览器前缀才能使用。</p></blockquote>
<h3 id="exitpointerlock-方法">exitPointerLock 方法</h3>
<p><code>exitPointerLock</code>方法用来推出指针锁定，此方法扩展了<code>document</code>对象，具体语法如下：</p><pre><code class="ECMAScript">document.exitPointerLock();</code></pre>
<blockquote>
<p><em><strong>注意</strong></em> <code>exitPointerLock</code>方法可能需要添加浏览器前缀才能使用。</p></blockquote>
<h3 id="pointerlockchange-事件">pointerlockchange 事件</h3>
<p>当指针锁定状态改变时（如：调用 <code>requestPointerLock</code>、<code>exitPointerLock</code>，用户按下 ESC 键），<code>pointerlockchange</code> 事件被分发到 <code>document</code>。 这是一个简单事件，不包含任何的额外数据。</p><blockquote>
<p><em><strong>注意</strong></em> <code>pointerlockchange</code> 事件可能需要添加浏览器前缀才能使用。</p></blockquote>
<h3 id="pointerlockerror-事件">pointerlockerror 事件</h3>
<p>当调用 <code>requestPointerLock</code> 或 <code>exitPointerLock</code>而引发错误时，<code>pointerlockerror</code> 事件被分发到 <code>document</code>。 这是一个简单事件，不包含任何的额外数据。</p><blockquote>
<p><em><strong>注意</strong></em> <code>pointerlockerror</code> 事件可能需要添加浏览器前缀才能使用。</p></blockquote>
<h3 id="movement-事件的扩展">movement 事件的扩展</h3>
<p>Pointer lock API 对<code>MouseEvent</code>事件增加了 movement 属性：</p><pre><code class="C">partial interface MouseEvent {
    readonly attribute long movementX;
    readonly attribute long movementY;
};</code></pre>
<blockquote>
<p><em><strong>注意</strong></em> movement 属性可能需要添加浏览器前缀才能使用。</p></blockquote>
<h2 id="其他注意事项">其他注意事项</h2>
<p>只有网页处于全屏状态下，指针锁定才会成功，当退出全屏后，指针锁定也会自动退出。</p>
</article>

<div class="base-page-nav">
	<div>
		
			<a href="/HTML5API/2018-09-04-web-based-protocol-handlers/" title="HTML5 协议处理: Web-based Protocol Handlers">上一篇：HTML5 协议处理: Web-based Protocol Handlers</a>
		
	</div>
	<div>
		
			下一篇：已经是最后一篇
		
	</div>
</div>
<div class="not-print" id="cyReward" role="cylabs" data-use="reward"></div>
<div class="not-print" id="cyEmoji" role="cylabs" data-use="emoji"></div>
<div class="not-print" id="SOHUCS"></div>
</main>

</div>
	<footer>
	<section>
		&copy; 2018 - 2021
		<a href="//www.fierflame.com">Fierflame</a>
		<script src="https://v1.cnzz.com/z_stat.php?id=1279386134&show=pic"></script>
	</section>
</footer>

</body>
</html>
